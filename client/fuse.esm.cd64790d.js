function t(t,{errors:e=0,currentLocation:s=0,expectedLocation:n=0,distance:r=100}){const i=e/t.length,o=Math.abs(n-s);return r?i+o/r:o?1:i}class e{constructor(t,{location:e=0,distance:s=100,threshold:n=.6,isCaseSensitive:r=!1,findAllMatches:i=!1,minMatchCharLength:o=1,includeMatches:h=!1}){if(this.options={location:e,distance:s,threshold:n,isCaseSensitive:r,findAllMatches:i,includeMatches:h,minMatchCharLength:o},t.length>32)throw new Error("Pattern length exceeds max of 32.");this.pattern=r?t:t.toLowerCase(),this.patternAlphabet=function(t){let e={},s=t.length;for(let n=0;n<s;n+=1)e[t.charAt(n)]=0;for(let n=0;n<s;n+=1)e[t.charAt(n)]|=1<<s-n-1;return e}(this.pattern)}searchIn(t){let e=t.$;return this.searchInString(e)}searchInString(e){const{isCaseSensitive:s,includeMatches:n}=this.options;if(s||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.matchedIndices=[[0,e.length-1]]),t}const{location:r,distance:i,threshold:o,findAllMatches:h,minMatchCharLength:c}=this.options;return function(e,s,n,{location:r=0,distance:i=100,threshold:o=.6,findAllMatches:h=!1,minMatchCharLength:c=1,includeMatches:l=!1}){const a=s.length,u=e.length,f=Math.max(0,Math.min(r,u));let d=o,g=e.indexOf(s,f);const p=[];for(let t=0;t<u;t+=1)p[t]=0;if(-1!==g){let n=t(s,{errors:0,currentLocation:g,expectedLocation:f,distance:i});if(d=Math.min(n,d),g=e.lastIndexOf(s,f+a),-1!==g){let e=t(s,{errors:0,currentLocation:g,expectedLocation:f,distance:i});d=Math.min(e,d)}}g=-1;let y=[],m=1,M=a+u;const x=1<<(a<=31?a-1:30);for(let r=0;r<a;r+=1){let o=0,c=M;for(;o<c;){t(s,{errors:r,currentLocation:f+c,expectedLocation:f,distance:i})<=d?o=c:M=c,c=Math.floor((M-o)/2+o)}M=c;let l=Math.max(1,f-c+1),_=h?u:Math.min(f+c,u)+a,k=Array(_+2);k[_+1]=(1<<r)-1;for(let o=_;o>=l;o-=1){let h=o-1,c=n[e.charAt(h)];if(c&&(p[h]=1),k[o]=(k[o+1]<<1|1)&c,0!==r&&(k[o]|=(y[o+1]|y[o])<<1|1|y[o+1]),k[o]&x&&(m=t(s,{errors:r,currentLocation:h,expectedLocation:f,distance:i}),m<=d)){if(d=m,g=h,g<=f)break;l=Math.max(1,2*f-g)}}if(t(s,{errors:r+1,currentLocation:f,expectedLocation:f,distance:i})>d)break;y=k}let _={isMatch:g>=0,score:m||.001};return l&&(_.matchedIndices=function(t=[],e=1){let s=[],n=-1,r=-1,i=0;for(let o=t.length;i<o;i+=1){let o=t[i];o&&-1===n?n=i:o||-1===n||(r=i-1,r-n+1>=e&&s.push([n,r]),n=-1)}return t[i-1]&&i-n>=e&&s.push([n,i-1]),s}(p,c)),_}(e,this.pattern,this.patternAlphabet,{location:r,distance:i,threshold:o,findAllMatches:h,minMatchCharLength:c,includeMatches:n})}}const s=t=>t.substr(1);var n=t=>"'"==t.charAt(0),r=(t,e)=>{const n=s(t);return{isMatch:e.indexOf(n)>-1,score:0}};const i=t=>t.substr(1);var o=t=>"!"==t.charAt(0),h=(t,e)=>{const s=i(t);return{isMatch:-1===e.indexOf(s),score:0}};const c=t=>t.substr(1);var l=t=>"^"==t.charAt(0),a=(t,e)=>{const s=c(t);return{isMatch:e.startsWith(s),score:0}};const u=t=>t.substr(2);var f=t=>"!"==t.charAt(0)&&"^"==t.charAt(1),d=(t,e)=>{const s=u(t);return{isMatch:!e.startsWith(s),score:0}};const g=t=>t.substr(0,t.length-1);var p=t=>"$"==t.charAt(t.length-1),y=(t,e)=>{const s=g(t);return{isMatch:e.endsWith(s),score:0}};const m=t=>t.substring(1,t.length-1);var M=t=>"!"==t.charAt(0)&&"$"==t.charAt(t.length-1),x=(t,e)=>{const s=m(t);return{isMatch:!e.endsWith(s),score:0}};const _=t=>Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t),k=t=>"string"==typeof t,S=t=>"number"==typeof t,w=t=>null!=t;class I{constructor(t,e){const{isCaseSensitive:s}=e;this.query=null,this.options=e,this._fuzzyCache={},k(t)&&t.trim().length>0&&(this.pattern=s?t:t.toLowerCase(),this.query=(t=>t.split("|").map(t=>t.trim().split(/ +/g)))(this.pattern))}searchIn(t){const e=this.query;if(!this.query)return{isMatch:!1,score:1};let s=t.$;s=this.options.isCaseSensitive?s:s.toLowerCase();let n=!1;for(let t=0,r=e.length;t<r;t+=1){const r=e[t];let i=null;n=!0;for(let t=0,e=r.length;t<e;t+=1){let e=r[t];if(i=this._search(e,s),!i.isMatch){n=!1;break}}if(n)return i}return{isMatch:!1,score:1}}_search(t,s){if(n(t))return r(t,s);if(l(t))return a(t,s);if(f(t))return d(t,s);if(M(t))return x(t,s);if(p(t))return y(t,s);if(o(t))return h(t,s);{let n=this._fuzzyCache[t];return n||(n=new e(t,this.options),this._fuzzyCache[t]=n),n.searchInString(s)}}}function A(t,{n:e=3,pad:s=!0,sort:n=!1}){let r=[];if(null==t)return r;t=t.toLowerCase(),s&&(t=` ${t} `);let i=t.length-e+1;if(i<1)return r;for(;i--;)r[i]=t.substr(i,e);return n&&r.sort((t,e)=>t==e?0:t<e?-1:1),r}class L{constructor(t,e={threshold:.6}){this.options=e,this.patternNgram=A(t,{sort:!0})}searchIn(t){let e=t.ng;e||(e=A(t.$,{sort:!0}),t.ng=e);let s=function(t,e){let s=function(t,e){let s=[],n=0,r=0;for(;n<t.length&&r<e.length;){let i=t[n],o=e[r];i<o?(s.push(i),n+=1):o<i?(s.push(o),r+=1):(s.push(o),n+=1,r+=1)}for(;n<t.length;)s.push(t[n]),n+=1;for(;r<e.length;)s.push(e[r]),r+=1;return s}(t,e);return 1-function(t,e){let s=[],n=0,r=0;for(;n<t.length&&r<e.length;){let i=t[n],o=e[r];i==o?(s.push(i),n+=1,r+=1):i<o?n+=1:(i>o||(n+=1),r+=1)}return s}(t,e).length/s.length}(this.patternNgram,e);const n=s<this.options.threshold;return{score:n?s:1,isMatch:n}}}function v(t,e){let s=[],n=!1;const r=(t,e)=>{if(e){const i=e.indexOf(".");let o=e,h=null;-1!==i&&(o=e.slice(0,i),h=e.slice(i+1));const c=t[o];if(w(c))if(h||!k(c)&&!S(c))if(_(c)){n=!0;for(let t=0,e=c.length;t<e;t+=1)r(c[t],h)}else h&&r(c,h);else s.push((t=>null==t?"":(t=>{if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e})(t))(c))}else s.push(t)};return r(t,e),n?s:s[0]}function C(t,e,{getFn:s=v,ngrams:n=!1}={}){let r=[];if(k(e[0]))for(let t=0,s=e.length;t<s;t+=1){const s=e[t];if(w(s)){let e={$:s,idx:t};n&&(e.ng=A(s,{sort:!0})),r.push(e)}}else{const i=t.length;for(let o=0,h=e.length;o<h;o+=1){let h=e[o],c={idx:o,$:{}};for(let e=0;e<i;e+=1){let r=t[e],i=s(h,r);if(w(i))if(_(i)){let t=[];const e=[{arrayIndex:-1,value:i}];for(;e.length;){const{arrayIndex:s,value:r}=e.pop();if(w(r))if(k(r)){let e={$:r,idx:s};n&&(e.ng=A(r,{sort:!0})),t.push(e)}else if(_(r))for(let t=0,s=r.length;t<s;t+=1)e.push({arrayIndex:t,value:r[t]})}c.$[r]=t}else{let t={$:i};n&&(t.ng=A(i,{sort:!0})),c.$[r]=t}}r.push(c)}}return r}class b{constructor(t){if(this._keys={},this._keyNames=[],this._length=t.length,t.length&&k(t[0]))for(let e=0;e<this._length;e+=1){const s=t[e];this._keys[s]={weight:1},this._keyNames.push(s)}else{let e=0;for(let s=0;s<this._length;s+=1){const n=t[s];if(!Object.prototype.hasOwnProperty.call(n,"name"))throw new Error('Missing "name" property in key object');const r=n.name;if(this._keyNames.push(r),!Object.prototype.hasOwnProperty.call(n,"weight"))throw new Error('Missing "weight" property in key object');const i=n.weight;if(i<=0||i>=1)throw new Error('"weight" property in key must be in the range of (0, 1)');this._keys[r]={weight:i},e+=i}for(let t=0;t<this._length;t+=1){const s=this._keyNames[t],n=this._keys[s].weight;this._keys[s].weight=n/e}}}get(t,e){return this._keys[t]?this._keys[t][e]:-1}keys(){return this._keyNames}count(){return this._length}toJSON(){return JSON.stringify(this._keys)}}function $(t,e){const s=t.matches;if(e.matches=[],w(s))for(let t=0,n=s.length;t<n;t+=1){let n=s[t];if(!w(n.indices)||0===n.indices.length)continue;let r={indices:n.indices,value:n.value};n.key&&(r.key=n.key),n.idx>-1&&(r.refIndex=n.idx),e.matches.push(r)}}function O(t,e){e.score=t.score}const N={isCaseSensitive:!1,findAllMatches:!1,includeMatches:!1,includeScore:!1,keys:[],minMatchCharLength:1,shouldSort:!0,sortFn:(t,e)=>t.score-e.score,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:v}};class E{constructor(t,e=N,s=null){this.options={...N,...e},this.options.isCaseSensitive=e.caseSensitive,delete this.options.caseSensitive,this._processKeys(this.options.keys),this.setCollection(t,s)}setCollection(t,e=null){this.list=t,this.listIsStringArray=k(t[0]),e?this.setIndex(e):this.setIndex(this._createIndex())}setIndex(t){this._indexedList=t}_processKeys(t){this._keyStore=new b(t)}_createIndex(){return C(this._keyStore.keys(),this.list,{getFn:this.options.getFn})}search(t,s={limit:!1}){const{useExtendedSearch:n,shouldSort:r}=this.options;let i=null;i=n?new I(t,this.options):t.length>32?new L(t,this.options):new e(t,this.options);let o=this._searchUsing(i);return this._computeScore(o),r&&this._sort(o),s.limit&&S(s.limit)&&(o=o.slice(0,s.limit)),this._format(o)}_searchUsing(t){const e=this._indexedList,s=[],{includeMatches:n}=this.options;if(this.listIsStringArray)for(let r=0,i=e.length;r<i;r+=1){let i=e[r],{$:o,idx:h}=i;if(!w(o))continue;let c=t.searchIn(i);const{isMatch:l,score:a}=c;if(!l)continue;let u={score:a,value:o};n&&(u.indices=c.matchedIndices),s.push({item:o,idx:h,matches:[u]})}else{const r=this._keyStore.keys(),i=this._keyStore.count();for(let o=0,h=e.length;o<h;o+=1){let{$:h,idx:c}=e[o];if(!w(h))continue;let l=[];for(let e=0;e<i;e+=1){let s=r[e],i=h[s];if(w(i))if(_(i))for(let e=0,r=i.length;e<r;e+=1){let r=i[e],o=r.$,h=r.idx;if(!w(o))continue;let c=t.searchIn(r);const{isMatch:a,score:u}=c;if(!a)continue;let f={score:u,key:s,value:o,idx:h};n&&(f.indices=c.matchedIndices),l.push(f)}else{let e=i.$,r=t.searchIn(i);const{isMatch:o,score:h}=r;if(!o)continue;let c={score:h,key:s,value:e};n&&(c.indices=r.matchedIndices),l.push(c)}}l.length&&s.push({idx:c,item:h,matches:l})}}return s}_computeScore(t){for(let e=0,s=t.length;e<s;e+=1){const s=t[e],n=s.matches,r=n.length;let i=1;for(let t=0;t<r;t+=1){const e=n[t],s=e.key,r=this._keyStore.get(s,"weight"),o=r>-1?r:1,h=0===e.score&&r>-1?Number.EPSILON:e.score;i*=Math.pow(h,o)}s.score=i}}_sort(t){t.sort(this.options.sortFn)}_format(t){const e=[],{includeMatches:s,includeScore:n}=this.options;let r=[];s&&r.push($),n&&r.push(O);for(let s=0,n=t.length;s<n;s+=1){const n=t[s],{idx:i}=n,o={item:this.list[i],refIndex:i};if(r.length)for(let t=0,e=r.length;t<e;t+=1)r[t](n,o);e.push(o)}return e}}E.version="5.1.0",E.createIndex=C,E.defaultOptions=N;export{E as F};
